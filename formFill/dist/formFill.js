define("tanshenghu/formFill/1.0.0/formFill",["$"],function(require,exports,module){var jQuery=require("$"),$=jQuery,formFill={init:function(a){this.url=a.url,this.param=a.param,this.form=$(a.form),this.cite=a.cite||"content",this.callback=a.callback,this.getData()},getData:function(){var This=this,O=$.extend({rnd:(new Date).getTime()},this.param),cite="data."+this.cite;$.getJSON(this.url,O,function(data){This.fillVal(eval(cite))})},fillVal:function(a){var b=function(a){var b,c=a.prop("nodeName").toLowerCase(),d=a.attr("type");return b="input"===c?d:c},c=!0;for(var d in a){var e=a[d],f=this.form.find('[name="'+d+'"]');if("string"==typeof e)switch(b(f)){case"text":f.val(e);break;case"textarea":f.val(e);break;case"checkbox":f.val(e);break;case"radio":f.not('[value!="'+e+'"]').prop("checked",!0);break;case"select":var g=f.find('[value="'+e+'"]').length?f.find('[value="'+e+'"]'):f.find(":contains("+e+")");g.prop("selected",!0);break;default:f.val(e)}else{if(!(e instanceof Array&&"object"==typeof e[0]))return c=!1,console&&console.log&&console.log("error: json layout!"),!1;var h="function"==typeof this.filltr?this.filltr(e):"";f.find("tbody").first().html(h)}}"function"==typeof this.callback&&c&&this.callback.apply(this.form)}};module.exports=formFill});
