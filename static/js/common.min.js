/*
JS Document
◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇
◎ *@Description: javascript Obj 基类
◎ *@Author: 谭生虎       TanShenghu	TSH    
◎ *@Update: 2013-05-14
◎ *@Contact: ☎：13588428548		Email: tanshenghu@163.com	QQ：511568692
◎ *@AuthorNote: 请不要随便篡改文件内容。尊重他人劳动成果！谢谢...     谭生虎 注
◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇◆◇
*/
!function($,win){var tsh={},fnTsh={};tsh.clientWidth=function(){return document.documentElement.clientWidth},tsh.clientHeight=function(){return document.documentElement.clientHeight},tsh.scrollHeight=function(){return document.documentElement.scrollHeight||document.body.scrollHeight},tsh.scrollWidth=function(){return document.documentElement.scrollWidth||document.body.scrollWidth},tsh.scrollTop=function(){return document.documentElement.scrollTop||document.body.scrollTop},tsh.scrollLeft=function(){return document.documentElement.scrollLeft||document.body.scrollLeft},tsh.screenWH=function(a){var b=win.screen.width,c=win.screen.height;return"x"==a?b:"y"==a?c:b+"\xd7"+c},tsh.browserMsg=win.navigator.userAgent,tsh.browserAppName=navigator.appName,tsh.browserAppVersion=navigator.appVersion,tsh.IEDocMode=document.documentMode,tsh.useBrowser=tsh.browserMsg.match(/msie 6./gim)?"IE6":tsh.browserMsg.match(/msie 7./gim)?"IE7":tsh.browserMsg.match(/msie 8./gim)?"IE8":tsh.browserMsg.match(/msie 9./gim)?"IE9":tsh.browserMsg.match(/msie 10./gim)?"IE10":tsh.browserMsg.match(/msie 11./gim)?"IE11":tsh.browserMsg.match(/firefox/gim)?"firefox":"webkit",tsh.ltIE8=!+[1],tsh.isIE8=~~tsh.useBrowser.replace(/IE/i,"")>0&&~~tsh.useBrowser.replace(/IE/i,"")<9&&(tsh.IEDocMode<9||!tsh.IEDocMode),tsh.isIE9=~~tsh.useBrowser.replace(/IE/i,"")>0&&~~tsh.useBrowser.replace(/IE/i,"")<10&&(tsh.IEDocMode<10||!tsh.IEDocMode),tsh.isIE=/msie/gim.test(tsh.browserMsg),tsh.setCookies=function(a,b){var e,c="",d=arguments[2];c=a+"="+escape(b),void 0!=d&&(d=parseFloat(d),e=new Date,e.setDate(e.getDate()+d),c=c+"; expires="+e.toGMTString()),document.cookie=c+"; path=/"},tsh.getCookies=function(a){var b=document.cookie;CookArr=b.split("; ");for(var c in CookArr)if(CookArr[c].split("=")[0]==a)return unescape(CookArr[c].split("=")[1])},tsh.delCookies=function(a){var c,b="";c=new Date("1970/01/05"),c.setDate(c.getDate()),document.cookie=a+"="+b+"; expires="+c.toGMTString()+"; path=/"},tsh.log=function(a,b){b||(b=a,a=void 0),console&&console.log&&console.log("%c%s",a||"",b)},tsh.remark=function(key){var key=key?eval("this."+key):this,result="",length=0,fnlen=0;key||this.log("\u8be5\u5bf9\u8c61\u4e0d\u5b58\u5728\uff01");for(var i in key)length++,"function"==typeof key[i]?(fnlen++,this.log("color:red","function => "+i)):isNaN(key[i])?this.log("color:green","number => "+i):this.log(typeof key[i]+" => "+i);this.log("\u5171\u67e5\u627e\u5230 "+length+" \u4e2a\u5bf9\u8c61\uff0c\u5176\u4e2d\u65b9\u6cd5\u5bf9\u8c61 "+fnlen+" \u4e2a")},tsh.remark.demo=function(a){if(a){tsh.remark.key=a,$("#tsh_js_demo").remove();var b=document.createElement("script");b.id="tsh_js_demo",b.setAttribute("onerror",'alert("api\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u8054\u7cfb\u4f5c\u8005-TanShenghu")'),b.src="http://git.oschina.net/tanshenghu/myweb/raw/master/static/js/common_demo.js?rand=js"+(new Date).getTime(),document.body.appendChild(b)}},tsh.picNum=function(a,b){var c="";if(a&&b&&!isNaN(a)){a+="";var d=a.split("");for(var e in d)c+='<img src="'+b+d[e]+'.gif" class="middle" />'}return c},tsh.formRequest=function(a){function g(a){var b=a;return a instanceof jQuery||(b=$(b)),b}a instanceof Object||this.log("parameter "+a+" error");var b=g(a.form),c=a.selector?g(a.selector):!1,d="way"in a?a.way:!0,e=null,f={},h=function(a){return $("<div/>").text(a).html()},i=function(b){return a.Encode&&(b=a.Encode(b)),b};if(e=c&&d?b.find(c):c&&!d?b.find("input[name],textarea[name]").not(c):b.find("input[name],textarea[name],select[name]"),e.each(function(a,b){var c=$(b),d=c.attr("name"),e=c.attr("type")&&c.attr("type").toLowerCase();if(d&&e&&"radio"===e)c.prop("checked")&&(f[d]=h(i(c.val())));else if(d&&e&&"checkbox"===e){if(c.prop("checked"))if(f[d])f[d].push(h(i(c.val())));else{var g=[h(i(c.val()))];f[d]=g}}else d&&(f[d]=h(i(c.val())))}),a.split)for(var j in f)f[j]instanceof Array&&(f[j]=f[j].join(a.split));return f},tsh.formRequest.getCheckboxVal=function(a,b){var c={},d=[],e=arguments[2];return a=$(a),a.find('[name="'+b+'"]').each(function(a,b){var c=$(b),e=c.attr("type")&&c.attr("type").toLowerCase();!e||"radio"!==e&&"checkbox"!==e?c.val()&&d.push($(b).val()):c.prop("checked")&&d.push($(b).val())}),c[b]=e?d.join(e):d,c},tsh.formRequest.getLineVals=function(a){a=$(a);var b=[];return a.each(function(){var a={};$(this).find("[name]").each(function(b,c){var d=$(c),e=d.prop("nodeName").toLowerCase();a[d.attr("name")]="input"==e||"textarea"==e||"select"==e?d.val():d.text()}),b.push(a)}),b},tsh.formFill={init:function(a){this.url=a.url,this.param=a.param,this.form=$(a.form),this.callback=a.callback,this.getData()},getData:function(){var a=this;$.getJSON(this.url,this.param,function(b){a.fillVal(b.content)})},fillVal:function(a){var b=function(a){var d,b=a.prop("nodeName").toLowerCase(),c=a.attr("type");return d="input"===b?c:b};for(var c in a){var d=a[c],e=this.form.find('[name="'+c+'"]');if("string"==typeof D)switch(b(e)){case"text":e.val(d);break;case"textarea":e.val(d);break;case"checkbox":e.val(d);break;case"radio":e.not('[value!="'+d+'"]').prop("checked",!0);break;case"select":var f=e.find('[value="'+d+'"]').length?e.find('[value="'+d+'"]'):e.find(":contains("+d+")");f.prop("selected",!0);break;default:e.val(d)}else if(d instanceof Array&&"object"==typeof d[0]){var g=this.fillVal.filltr(d);e.find("tbody").first().html(g)}}"function"==typeof this.callback&&this.callback.apply(this.form)}},tsh.removeLine=function(a){a=$(a);var b=a.closest("tr");b.remove()},tsh.addNewLine=function(a,b){a=$(a),b=$(b);var c;c="script"===a.prop("nodeName").toLowerCase()?$(a.html()):a.find("tbody tr").last();var d=c.clone(!0);d=d.not(".noEmpty"),d.find(":text,textarea").val(""),d.find(".cival").empty(),b.find("tbody").append(d)},tsh.checkAll=function(a,b){a=$(a),b=$(b);var c=a.prop("nodeName")&&a.prop("nodeName").toLowerCase(),d="input"==c?"change":"click";a.on(d,function(){"input"==c?a.prop("checked")?b.prop("checked",!0):b.prop("checked",!1):"\u5168\u9009"==a.text()?(b.prop("checked",!0),a.text("\u4e0d\u5168\u9009")):(b.prop("checked",!1),a.text("\u5168\u9009"))})},tsh.copyerPic=function(a,b){a=$(a),a.find("img").each(function(){$(this).width()>=b&&$(this).width(b)})},tsh.allHeight=function(a,b){a=$(a);var c=arguments[2],d=0;c?(c=parseFloat(c),a.height(c)):(a.each(function(a,c){b&&$(c).css("height","auto"),$(c).height()>d&&(d=$(c).height())}),a.height(d))},tsh.getFileType=function(a){return"string"==typeof a?a.match(/\..+$/g)[0]:void 0},tsh.videoPlay=function(a){var b=$(a.box),c=a.swf,d=a.file,e=a.width||250,f=a.height||200,g="",h=this.getFileType(d);g=".wmv"==h?'<embed width="'+parseFloat(e)+'" height="'+parseFloat(f)+'" autostart="1" loop="false" type="video/x-ms-wmv" src="'+d+'">':".flv"==h?c&&d?'<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=7,0,19,0" width="'+parseFloat(e)+'" height="'+parseFloat(f)+'"><param name="movie" value="'+c+'" /><param name="quality" value="high" /><param name="wmode" value="opaque" /><param name="allowFullScreen" value="true" /><param name="FlashVars" value="vcastr_file='+d+'" /><embed src="'+c+'" allowfullscreen="true" flashvars="vcastr_file='+d+'" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash" width="'+parseFloat(e)+'" height="'+parseFloat(f)+'"></embed></object>':"fail! File not found...":'<b style="color:red">\u89c6\u9891\u672a\u80fd\u6b63\u5e38\u64ad\u653e\uff0c\u8bf7\u68c0\u67e5\u89c6\u9891\u683c\u5f0f\u7c7b\u578b\uff0c\u4ee5\u53ca\u8c03\u7528\u8be5\u65b9\u6cd5\u7684API</b>',b.html(g)},tsh.placeholder=function(){this.isIE9&&$(":text[placeholder],textarea[placeholder]").each(function(a){var c=$(a),d=$('<label class="placeholder" style="position:absolute;">'+c.attr("placeholder")+"</label>");c.parent().css("position","relative"),c.after(d),d.on("click",function(){$(this).hide().prev(":text,textarea").focus()}),c.on("focus",function(){$(this).next("label:visible")&&d.hide()}).on("blur",function(){$(this).val().trim()||d.show()})})},tsh.customCheckbox=function(){this.isIE9&&$("body").on("change",".custom-checkbox",function(){var a=$(this),b=a.attr("type").toLowerCase(),c=a.attr("name");"checkbox"===b?a.prop("checked")?a.parent().addClass("checked"):a.parent().removeClass("checked"):"radio"===b&&(c&&$(':radio[name="'+c+'"]').parent().removeClass("checked"),a.parent().addClass("checked"))})},tsh.currentMenu=function(a,b){return b="number"!=typeof b?parseInt(b):b,"number"!=typeof b?!1:($(a).eq(b).addClass("current").siblings(a).removeClass("current"),void 0)},tsh.emptyEle=function(a){var b=$(a),c=arguments[1]||".jq-empty";b.find(c).each(function(a,b){var c=$(b);"input"===c.prop("nodeName").toLowerCase()||"textarea"===c.prop("nodeName").toLowerCase()?c.val(""):"select"===c.prop("nodeName").toLowerCase()?c.find(":selected").prop("selected",!1):c.html("")})},tsh.dropDown=function(a){a=a?$(a):$(".dropdownbox"),a.on("mousedown",function(b){var b=b||event,c=$(this);a.not(c).find(".downcontent").hide(),c.find(".downcontent a").length&&(c.find(".downcontent").slideDown("fast"),b.stopPropagation())}).find(".downcontent").on("click","a",function(){var b=$(this),c=b.closest(".dropdownbox"),d=c.children(".cinput"),e=c.data("dropdown");"input"===d.prop("nodeName").toLowerCase()?d.val(b.html()).attr("key",b.attr("key")||""):d.text(b.html()).attr("key",b.attr("key")||""),b.parent().slideUp("fast"),e&&e.callback&&"function"==typeof e.callback&&e.callback.apply(this,[])}).prevAll(":text").prop("readonly",!0),$(document).on("mousedown",function(){a.find(".downcontent").hide()})},tsh.popupBox=function(a){var b=$(a.hand),c=$(a.box),d=a.cover,e=a.zindex||1e3,f=0,g=0,h=parseInt(a.width),i=parseInt(a.height),j=0,k=0,l=a.callback;if(!c.length)return this.log("color:red","error:not "+a.box),void 0;"body"!=c.parent().prop("nodeName").toLowerCase()&&$("body").append(c),a.width||(c.css("display","inline"),h=c.width()),a.height||(c.css("display","inline"),i=c.height());var m=$("#coverPop").length?$("#coverPop"):$('<div id="coverPop"></div>'),n=function(){f=document.documentElement.clientWidth,g=document.documentElement.clientHeight,j=$(document).scrollTop()||0,k=$(document).scrollLeft()||0;var a=0>.5*(f-h)?0:.5*(f-h)>f-h?f-h:.5*(f-h),b=0>.5*(g-i)?0:.5*(g-i)>g-i?g-i:.5*(g-i),c={position:"absolute","z-index":e,display:"none",left:a+k,"background-color":"white",top:b+j},d=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);return m.css({position:"absolute","z-index":e-1,left:"0",top:"0",width:"100%",display:"none",background:"black",opacity:"0.5",height:d}),c},o=n();o.width=a.width?a.width:"auto",o.height=a.height?a.height:"auto",c.css(o),d="undefined"==typeof d?!0:d,d&&c.before(m),b.on("click",function(){var a=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight);c.css(n()),m.height(a).fadeIn(),c.fadeIn(),"function"==typeof l&&l.apply(this,[c])}),c.find(".closeMe").on("click",function(){d&&m.fadeOut("fast"),c.fadeOut("fast")})},tsh.getRequest=function(){var a={},b=arguments[0]?arguments[0]+"".substring(arguments[0]+"".indexOf("?")):document.location.search;b=b.ltrim();for(var c=b.split("&"),d=0,e=c.length;e>d;d++){var f=c[d].split("=");a[f[0]]=f[1]}return a},tsh.checkTab=function(a){var b=a.hand,c=a.box,d=a.evt||"click",e=a.callback;$(b).on(d,function(){var a=$(this),d=a.index(b);a.addClass("current").siblings(b).removeClass("current"),$(c).eq(d).show().siblings(c).hide(),"function"==typeof e&&e.apply(this,[])})},tsh.inputSort=function(){var a=this,b={number:function(a){var b=a,c=b.val();b.val(c.replace(/\D/gim,""))},"char":function(a){var b=a,c=b.val();b.val(c.replace(/[^A-Za-z]/gim,""))},chinese:function(a){var b=a,c=b.val();b.val(c.replace(/[^\u4e00-\u9fa5]/gim,""))},maxlength:function(b){if(~~a.useBrowser.replace("IE","")>9||~~a.useBrowser.replace("IE","")<1){var c=b,d=c.val(),e=c.attr("maxlength");d.length>e&&c.val(d.substring(0,e))}}};$("input[isort],textarea[isort]").each(function(c,d){d=$(d);var e=function(){var a=d,c=a.attr("isort");switch(c){case"number":b.number(a);break;case"char":b.char(a);break;case"chinese":b.chinese(a);break;case"maxlength":b.maxlength(a)}};a.ltIE8?$(d).on("keyup",function(){e()}).on("blur",function(){e()}):d.on("input",function(){e()})})},$.tsh=tsh,fnTsh.gridsort={sort:function(a,b,c){this.srt=c||"desc",this.idx=parseInt(b),this.tbody=$(a),this.contrast()},contrast:function(){var a=this,b=[],c=[];this.tbody.find("tr").each(function(d,e){b.push(e);var f=$(e).children().eq(a.idx);c.push(f.text())}),c.sort(function(b,c){return b=parseFloat(a.isDate(b)),c=parseFloat(a.isDate(c)),"asc"===a.srt?c>b?-1:1:b>c?-1:1});var d=a.newsortobj(b,c);a.tbody.empty();for(var e=0,f=d.length;f>e;e++)a.tbody.append(d[e])},isDate:function(a){var b=/\d+\-\d+|\d+\/\d+|\d+\u5e74\d+/g;return b.test(a)&&(a=a.replace(/-|\//g,"")),a},newsortobj:function(a,b){for(var c=this,d={length:0},e=0,f=b.length;f>e;e++)for(var g=b[e],h=0,i=a.length;i>h;h++)$(a[h]).children().eq(c.idx).text()==g&&(d[d.length]=$(a[h]),d.length+=1);return d}},"".trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,"")}),String.prototype.rtrim=function(a){var b="";if(a){var c=this.lastIndexOf(a);b=this.substring(0,0>c?this.length:c)+(0>c?"":this.substring(c+1))}else b=this.replace(/.$/gm,"");return b},String.prototype.ltrim=function(a){var b="";if(a){var c=this.indexOf(a);b=this.substring(0,0>c?this.length:c)+(0>c?"":this.substring(c+1))}else b=this.replace(/^./gm,"");return b},Array.prototype.delVal=function(a,b){var c=!1;for(var d in this)this[d]!==a||c||(this.splice(d,1),b||(c=!0));return this},Array.prototype.clearRepeat=function(){for(var a={},b=[],c=0,d=this.length;d>c;c++){var e=typeof this[c]+this[c];void 0===a[e]&&(b.push(this[c]),a[e]="yes")}return b},Array.prototype.toObject=function(){var a={},b=Array.prototype.push;return b.apply(a,this),a},fnTsh.ObjectToArray=function(a){var b=Array.prototype.slice;return void 0===this.length?!1:b.call(a,0)},Date.prototype.format=function(a){var b={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var c in b)new RegExp("("+c+")").test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?b[c]:("00"+b[c]).substr((""+b[c]).length)));return a},win.getComputedStyle&&"function"==typeof win.getComputedStyle||(win.getComputedStyle=function(a){var b=a.nodeName?a:a.get(0);return b.currentStyle?b.currentStyle:getComputedStyle(b,null)}),fnTsh.milliFormat=function(a){if(a+="",/[^0-9\.]/.test(a))return a;a=a.replace(/^(\d*)$/,"$1."),a=(a+"00").replace(/(\d*\.\d\d)\d*/,"$1"),a=a.replace(".",",");for(var b=/(\d)(\d{3},)/;b.test(a);)a=a.replace(b,"$1,$2");return a=a.replace(/,(\d\d)$/,".$1"),a.replace(/^\./,"0.")},fnTsh.validate={init:function(a){return this.form=$(a),this.blur(),this.getrules()&&0===this.form.find(".formTip").length},getele:function(){return this.form.find("[data-need]")},getrules:function(){var a=this,b=this.getele(),c=!0;return b.each(function(b,d){c=a.verify(d)}),c},verify:function(a){var b=$(a).data("need"),c=!0;if(b)for(var d=b.split(","),e=0,f=d.length;f>e&&(c=this.exeRules(d[e],a,e),c!==!1);e++);return c},exeRules:function(a,b,c){if("function"==typeof this.rules[a]){var d=this.rules[a].apply(win,[b]);return this.showmsg(d,b,c),d}$.tsh.log(a+" erroneous rules")},rules:{required:function(a){var b=$(a).val().trim(),c=0==b.length?!1:!0;return c},email:function(a){var b=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test($(a).val());return b},url:function(a){var b=/^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/.test($(a).val());return b},number:function(a){var b=!isNaN($(a).val());return b},decimals:function(a){var b=/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test($(a).val());return b},phone:function(a){var b=/^1[3|5|7|8|][0-9]{9}$/.test($(a).val());return b},tel:function(a){var b=/^(0\d{2,3}-)?[1-9]\d{6,7}(-\d{1,4})?$/.test($(a).val());return b},QQ:function(a){var b=/^[1-9]\d{5,10}$/.test($(a).val());return b},Hanzi:function(a){var b=/^[\u4e00-\u9fa5]+$/.test($(a).val());return b},zipcode:function(a){var b=/^[1-9]\d{5}$/.test($(a).val());return b},ID:function(a){var b=/^[1-9]\d{16}(\d|X)$/.test($(a).val());return b},IP:function(a){var b=/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test($(a).val());return b},port:function(a){var b=$(a).val(),c=b>0&&65536>b;return c},equalTo:function(a){var b=$(a),c=$(b.attr("eqto")),d=b.val()===c.val();return d},money:function(a){var b=/^[0-9|,|\.]+$|^$/.test($(a).val());return b},date:function(a){var b=/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test($(a).val());return b}},showmsg:function(a,b,c){b=$(b);var d=b.closest("td,.formfield"),e=b.data("msg")?b.data("msg").split("|"):[];a===!1?d.find(".formTip").length?d.find(".formTip").first().html('<i class="kuma-icon kuma-icon-error"></i>'+e[c]).attr("inputname",b.attr("name")):d.append($('<p class="formTip"><i class="kuma-icon kuma-icon-error"></i>'+e[c]+"</p>").attr("inputname",b.attr("name"))):d.find(".formTip").attr("inputname")==b.attr("name")&&d.find(".formTip").remove()},blurIdx:0,blur:function(){if(this.blurIdx<1){var a=this,b=this.getele();b.each(function(){var e,b=$(this),c=b.prop("nodeName").toLowerCase(),d={text:"blur",textarea:"blur",select:"select",checkbox:"change",radio:"change"};e="input"===c?b.attr("type"):c,$("body").on(d[e],"form [data-need]",function(){a.verify(this)})})}this.blurIdx++}},win.fnTsh=fnTsh,$(function(){$.tsh.inputSort(),$.tsh.placeholder(),$.tsh.customCheckbox()})}(jQuery,window);